---
title: 'Вопросы и ответы'
taxonomy:
    category:
        - docs
---

* [Что такое Adguard?](#wtf)
* [Как работает защита Adguard?](#howitworks)
* [Нужно ли получение ROOT доступа?](#root)
* [Как вручную настроить локальный HTTP прокси?](#http)
* [Как использовать другой VPN вместе с Adguard?](#vpn)
* [Какие ограничения имеет режим VPN?](#restrictions)
* [Почему не получается установить флажок "Я доверяю", когда Android спрашивает разрешения на включение VPN?](#checkbox)
* [Почему я вижу сообщение "Нет поддержки VPN"?](#novpn)
* [Почему статистика Android показывает, что Adguard использовал больше трафика, чем сэкономил?](#traf)
* [Почему режим модема не работает вместе с Adguard?](#modem)
* [Какие браузеры не поддерживаются Adguard?](#browsers)
* [Почему может не запускаться VPN на Android 5.0?](#andr5)
* [Как устранить известные конфликты с другими приложениями?](#conflicts)
* [Почему в режиме прокси функционал брандмауэра ограничен и статистика не очень точна?](#firewall)
* [Значит, режим прокси - это плохо?](#badproxy)
* [Почему некоторые приложения находятся в списке исключений?](#iskl)
* [Как работает DNS-фильтрация?](#nsfilter)
* [Как работает фильтрация HTTPS?](#https)

<a id="wtf"></a>
**Что такое Adguard?**

Adguard – это единственный в своём роде интернет-фильтр, который защищает вас от вездесущей рекламы, вредоносных и фишинговых сайтов, онлайн-трекинга и многого другого.

Adguard действительно справится с блокировкой абсолютно всех видов интернет-рекламы, ускорит загрузку страниц, сэкономит трафик, и повысит защиту вашего устройства от возможных угроз.

Adguard использует уникальную технологию, позволяющую фильтровать трафик вашего устройства, для которой не требуются ROOT-права. Скорость работы фильтрации не будет зависеть от работы VPN-сервера, так как он размещается прямо на вашем устройстве.

<a id="howitworks"></a>
**Как работает защита Adguard?**

Adguard фильтрует ваш трафик, блокируя запросы к фишинговым и вредоносным сайтам и удаляя навязчивую браузерную рекламу. Adguard может использовать два режима фильтрации трафика.

1. Режим локального VPN. 

2. Режим локального HTTP прокси сервера.

**_Режим локального VPN_**

В случае, если вы используете этот режим, Adguard не требуются ROOT-права для осуществления фильтрации. При этом VPN-сервер находится на вашем же устройстве, так что для фильтрации не приходится пропускать ваш трафик через удаленный сервер.

**_Режим локального HTTP прокси сервера_**

В этом режиме Adguard запускает на вашем устройстве локальный HTTP прокси сервер. Этот режим рекомендуется применять, если вы используете рутованное устройство. В обратном случае для применения этого режима понадобится ручная настройка HTTP прокси, а также будет невозможна фильтрация в мобильных сетях (Edge/3G/4G).

<a id="root"></a>
**Нужно ли получение ROOT доступа?**

В отличие от большинства приложений, занимающихся фильтрацией трафика, Adguard не требует ROOT доступа к Вашему устройству. В режиме локального VPN сервера Adguard будет фильтровать весь ваш трафик, и ROOT доступ ему не понадобится.

<a id="http"></a>
**Как вручную настроить локальный HTTP прокси?**

Если ваше устройство не поддерживает автоматическую настройку прокси, то вы можете настроить прокси-сервер вручную, используя предложенную ниже инструкцию.

* В расширенных настройках Adguard выберите режим работы _Локальный HTTP прокси_ и способ установки _Ручной_.

* Перейдите в настройки телефона, выберите Wi-Fi. Откроется список беспроводных сетей.

* Если устройство еще не подключено, подключитесь к необходимой Wi-Fi сети. Откройте настройки сети путем зажатия строки этой сети. Появится меню действий с выбранной Wi-Fi сетью.

* Выберите пункт _Изменить сеть_. В новом окне выберите пункт _Дополнительно_.

* В пункте _Прокси-сервер_ выберите _Вручную_.

* Введите _127.0.0.1_ в поле хоста прокси-сервера и тот же порт, что указан в настройках прокси в самом приложении Adguard (по умолчанию в настройках Adguard задан порт _8080_).

Прокси сервер установлен. Теперь весь интернет-трафик будет фильтроваться Adguard.

<a id="vpn"></a>
**Как использовать другой VPN вместе с Adguard?**

Если вы уже используете VPN для каких-либо целей, для обеспечения работы Adguard необходимо переключить приложение в режим HTTP прокси. Этот режим можно изменить в разделе _Дополнительные настройки_.

В данном режиме работы существует два способа установки прокси: _автоматический_ и _ручной_.

**_Автоматический режим_**

В автоматическом режиме включение фильтрации не требует от вас совершения каких-либо действий. Фильтрация будет работать как в мобильных, так и в Wi-Fi сетях. Проблема в том, что автоматический режим может быть задействован только при наличии ROOT доступа.

**_Ручной режим_**

Этот подход может не сработать в некоторых случаях. Это зависит от прошивки и самого VPN приложения. В ряде ситуация трафик направляется в обход прокси, установленного вручную. В ручном режиме фильтрация будет работать только для Wi-Fi соединений. Также вам придётся вручную настраивать прокси для каждого нового Wi-Fi соединения.

<a id="restrictions"></a>
**Какие ограничения имеет режим VPN?**

По умолчанию Adguard фильтрует трафик, используя локальный VPN-сервер. В этом режиме существуют незначительные ограничения, описанные ниже.

* В режиме локального VPN защита Adguard не будет запускаться автоматически вместе в включением телефона, так как эта возможность блокируется самой операционной системой Android.

* Фильтрация не может работать совместно с другими VPN приложениями. В этом случае рекомендуем использовать режим локального HTTP прокси.

<a id="checkbox"></a>
**Почему не получается установить флажок "Я доверяю", когда Android спрашивает разрешения на включение VPN?**

Если вы используете приложения, которые изменяют отображение (например, Night Mode или Twilight), вам нужно временно отключить это приложение. Иначе Android запрещает установку флажка в целях улучшения безопасности.

<a id="novpn"></a>
**Почему я вижу сообщение "Нет поддержки VPN"?**

Это сообщение появляется, когда Adguard не удается создать VPN-соединение на вашем устройстве. На данный момент мы знаем о нескольких ситуациях, когда это может происходить.

**1. Нестандартная прошивка**

Вы используете нестандартную прошивку, в которой вырезан модуль ядра tun.ko, необходимый для работы VPN на Android.

**2. Неправильная настройка прошивки**

Прошивка на вашем устройстве была неправильно настроена. Если производитель знает о проблеме, то он может исправить ее в будущих обновлениях прошивки.

**_Восстановить поддержку VPN_**

Если у вас есть ROOT доступ, вы можете попробовать восстановить модуль VPN (tun.ko), используя для этого специальную программу - **tun.ko installer**.

**_Переключить режим фильтрации_**

Вы можете переключиться на режим фильтрации _Локальный HTTP Прокси_ в расширенных настройках Adguard.

<a id="traf"></a>
**Почему статистика Android показывает, что Adguard использовал больше трафика, чем сэкономил?**

На экране Android _Использование данных_ или в каком-либо приложении для подсчета использования данных вы можете увидеть, что Adguard использовал весь или почти весь ваш трафик. На самом деле весь этот трафик был использован вашими приложениями, а не Adguard. Дело в том, что существует известная проблема с подсчетом статистики Android в случае, когда включена VPN- или прокси- фильтрация. Android в этой ситуации считает, что весь трафик потребляет Adguard.

Надеемся, что этот ответ прояснил, что происходит.

<a id="modem"></a>

**Почему режим модема не работает вместе с Adguard?**

Android не позволяет соединениям в режиме модема использовать VPN. Это правило распространяется на любое VPN приложение, запущенное на устройстве без ROOT прав. Да и с ROOT правами обойти это ограничение очень сложно. Ограничение введено из соображений безопасности на случай, чтобы посторонний человек, получив доступ к вашей сети в режиме модема, не мог одновременно получить доступ к VPN.

**_Решения_**

1. Отключите Adguard на время, пока вы хотите использовать режим модема.

2. Если у вас есть ROOT доступ, можете переключить режим фильтрации на "Локальный HTTP прокси" вместо использования VPN. Это можно сделать в расширенных настройках Adguard.

<a id="browsers"></a>
**Какие браузеры не поддерживаются Adguard?**

В целом, Adguard не может фильтровать трафик браузеров с функцией сжатия трафика. Единственный браузер с такой функцией, который мы можем фильтровать, это Google Chrome.

**_Opera_**

Adguard может фильтровать трафик браузера Opera если вы не используете **режим сжатия**. Иначе трафик сжимается так, что его фильтрация становится невозможной.

**_Opera Mini_**

Браузер Opera Mini всегда сжимает трафик, поэтому Adguard не может фильтровать его.

**_UC Browser_**

Adguard может фильтровать UC Browser в случае, если вы не используете **Скоростной режим** или **Быстрый режим**. Иначе трафик частично сжимается и шифруется, так что Adguard не может его фильтровать.

**_Puffin Browser_**

Браузер Puffin всегда сжимает трафик, поэтому Adguard не может фильтровать его.

<a id="andr5"></a>
**Почему может не запускаться VPN на Android 5.0?**

Существует два известных открытых дефекта Android 5.0, которые могут помешать создать VPN-соединение.
Единственное решение - перезагрузить устройство.

<a id="conflicts"></a>
**Как устранить известные конфликты с другими приложениями?**

Эта секция содержит список приложений, при использовании которых вы можете столкнуться с проблемами совместимости. В некоторых случаях проблема может быть решена настройкой самого приложения или Adguard.

**_Orbot Прокси в комплекте с Tor_**

**Проблема:** _Orbot Прокси _в комплекте с Tor является VPN приложением, а вы не можете использовать два VPN одновременно.

**Решение:** настройте Adguard на использование Orbot как вышестоящего прокси-сервера. 

1. Запустите Orbot. 

2. Откройте Adguard, откройте Настройки - Расширенные. 

3. Откройте Настройки прокси. 

4. Используйте следующие настройки:
Тип прокси SOCKS4, сервер 127.0.0.1, порт 9050. 

5. Запустите защиту Adguard.


**_VPN by Private Internet Access_**

**Проблема: **_ VPN by Private Internet Access _является VPN приложением, а вы не можете использовать два VPN одновременно.

**Решение:** вы можете настроить Adguard на использовать SOCKS5 прокси, предоставляемого PIA. Дополнительную информацию можно получить на сайте PIA. Другое возможное решение - переключить режим фильтрации на _Локальный HTTP прокси_ в расширенных настройках (требуется ROOT).

**DroidWall**

Проблема: _DroidWall_ ломает доступ в сеть, если вы используете режим фильтрации _Локальный HTTP прокси_ с Автоматической установкой.

**Решение: **

1. Удостоверьтесь, что защита Adguard стартует раньше DroidWall. 

2. Разрешите Adguard в настройках DroidWall.


**_Opera Max_**

**Проблема:** _Opera Max_ является VPN приложением, а вы не можете использовать два VPN одновременно.

**Решение:** (требуется ROOT) переключите режим фильтрации на _Локальный HTTP прокси _в расширенных настройках.

**Решение:** переключите режим фильтрации на _Локальный HTTP прокси_ в расширенных настройках Adguard.


<a id="firewall"></a>
**Почему в режиме прокси функционал брандмауэра ограничен и статистика не очень точна?**

В Сети Интернет используется множество разных вариантов подключений и передачи данных. Обычные сайты, звонки по VoIP, игры, различные VPN, любой UDP трафик (включая DNS) и т.д. В режиме VPN мы передаем каждый пакет с данными, который исходит из какого-нибудь приложения, но в режиме прокси мы контролируем только небольшое, но самое часто используемое подмножество типов трафика. Поэтому мы не можем гарантировать полную блокировку передачи данных для некоторых приложений, а статистические данные Adguard в режиме прокси могут быть не очень точными.

<a id="badproxy"></a>
**Значит, режим прокси - это плохо?**

Конечно, нет. Если вам не обязательно блокировать передачу данных по UDP, или по нестандартным портам, или видеть точные данные в статистике, можете не обращать на них внимание и пользоваться режимом прокси без каких-либо сомнений.

<a id="iskl"></a>
**Почему некоторые приложения находятся в списке исключений?**

Некоторые приложения используют нестандартные способы соединения и пересылки данных, либо наша процедура фильтрации мешает их работе. Поэтому такие приложения исключены из фильтрации. Мы надеемся, что это временная мера, так как наши алгоритмы фильтрации и обработки трафика постоянно совершенствуются.

<a id="nsfilter"></a>
**Как работает DNS-фильтрация?**

Adguard может фильтровать запросы, преобразующие доменное имя в IP-адрес, обрабатывать их локально, и блокировать попытки соединения с фишинговыми, вредоносными, рекламными и следящими системами. Блокировка осуществляется с помощью отправки поддельного ответа, который перенаправляет подключения на локальный сетевой интерфейс (с IP-адресом 127.0.0.1). Тогда браузер или приложение, которое пыталось соединиться с сервером на заблокированном домене, будет пытаться соединиться с собой же и получит ошибку подключения.

**_Это кажется идеальным способом блокировки рекламы, зачем использовать что-то еще?_**

Затем, что существует некоторое количество рекламных систем, которые используют одинаковые домены и для раздачи рекламы и для каких-нибудь полезных сервисов. DNS-фильтрация в данном случае позволяет быстрее блокировать часть рекламных и опасных доменов, что снижает нагрузку на процессор устройства и его батарею.

**_Почему я не могу использовать DNS-фильтрацию в режиме локального HTTP прокси сервера?_**

Потому что для DNS-фильтрации мы должны фильтровать весь сетевой трафик (все виды трафика и сетевых пакетов). Только режим локального VPN позволяет это делать.

<a id="https"></a>
**Как работает фильтрация HTTPS?**

HTTPS (аббр. от англ. HyperText Transfer Protocol Secure) — расширение протокола HTTP, для поддержки шифрования в целях повышения безопасности. Этот протокол используется для защищенной передачи важной информации - персональных данных, реквизитов банковских карт, и т.д.

Дело в том, что сейчас всё больше и больше сайтов, блогов и социальных сетей переходит на HTTPS. Кроме блогов и сайтов на HTTPS переходят всё больше рекламных сетей, так как это необходимо для отображения рекламы на сайте, работающем по HTTPS. Вот примеры популярных сайтов, рекламу на которых невозможно убрать без фильтрации HTTPS: youtube.com, facebook.com, twitter.com.

**_Как происходит фильтрация зашифрованного трафика?_**

Если бы это было просто, HTTPS не был бы безопасным. Для того чтобы отфильтровать защищенный трафик, Adguard должен сам создать два защищенных соединения. Одно - с браузером или другим приложением, второе - с сервером. Важно, чтобы при этом браузер "доверял" Adguard и созданному им соединению. Для этого Adguard генерирует и устанавливает специальный корневой сертификат в систему и при необходимости - в некоторые браузеры (например, Firefox).

**_Остается ли мой трафик защищенным и зашифрованным?_**

Конечно! Ваше соединение с удаленным сервером остается зашифрованным и защищенным. Adguard, точно также как и браузер, проверяет сертификат сервера перед тем как принимает решение о фильтрации. Также Adguard по умолчанию не фильтрует сайты финансовых сервисов и сайты с важными персональными данными.

Существует два режима работы HTTPS-фильтрации:

1. Фильтровать ТОЛЬКО соединения с доменами из "черного" списка.

2. Фильтровать ВСЕ соединения, КРОМЕ соединений с доменами из "белого" списка. В этот список мы предварительно добавили домены финансовых организаций и банков, и он со временем пополняется.

**_Хорошо, как это всё включить?_**

Установите сертификат в системное хранилище сертификатов.

Если у вас не установлен пароль или графический ключ на экране блокировки, то Android потребует установить один из вариантов. Таково требование системы Android.

Перезапустите защиту. Если все выполнено верно, HTTPS трафик теперь будет фильтроваться наряду с обычным.

**_Как удалить сертификат из системы?_**

Зайдите в настройки _Android -> Безопасность -> Надежные сертификаты_. На странице пользовательских сертификатов выберите Adguard Personal CA, прокрутите диалог вниз и нажмите "_Удалить_".

Перейдите на вкладку "_Пользователь_".

Выберите в списке "_Adguard Personal CA_" (он может быть там один).

В открывшемся диалоге надо будет прокрутить страницу вниз и нажать кнопку "У_далить_".